# Графовая оптимизация

## Возможности
- **Графовая оптимизация:** Компиляция карты в граф по нажатию **P**.
- **Оптимизации структур:** Оптимизируются пиксели, длинные пути, ветвления, кольца и таймеры ( которые срабатывают от импульса ).
- **Фикс разного тпс при разном фпс:** В оригинале стрелочки рассчитаны под 60 фпс из-за чего при 144 фпс 3 тпс превращаются в 7-8 тпс.
- **Новые режимы скорости:** Возможность выставить 6к, 30к и 120к тпс, и особый режим `MAX TPS` адаптирует тпс чтобы было ~60 фпс.
- **Счётчик ТПС:** Теперь вы можете хвастаться скоростью работы стрелочек среди других!
- **Настройки мода:**
- - **Оптимизация колец:** Оптимизирует кольца ( сигналы в них не будут отображаться ).
- - **Улучшение отклика кнопок:** При нажатии кнопки сигнал идёт не в кнопку, а на стрелочку в которую ведут кнопки.
- - **Оптимизация пикселей:** Оптимизирует пиксели ( мгновенно загораются, надо выключить если экран основан на том что сигнал течёт по пути ).
- - **Оптимизация ветвлений:** Комбинирует общий путь после ветвлений.
- - **Оптимизация путей:** Оптимизирует пути ( внутреннее состояние не отображается ).
- - **Оптимизация таймеров:** Оптимизирует кольца которые образуют таймеры ( сигналы в них не будут отображаться ).
- - **Скорость обновления счётчика тпс:** Хз чё сказать.
- - **DEBUG_MODE:** Позволяет выбрать режим дебага:
- - - **showDebugNodeTypes:** Показывает какие стрелочки связаны с оптимизациями.
- - - **showDebugPropagation:** Перекрашивает стрелочки в зависимости от входных данных ( например стрелочка в которую приходит AND отличается от NOT ).
- - - **showDebugDeadNodes:** Отображает стрелочки которые никаким образом не связаны с другими и отображает стрелочки которые можно оптимизировать ( например XOR в обычную ).

[//]: # (- - **Подробный вид:** Добавляет возможность включить подробную визуализацию &#40; замедлит компиляцию &#41;.)
[//]: # (- **Подробная визуализация:** Визуализирует сигналы идеально точно даже после оптимизаций **I**)

## Ограничения
- **Дебаг:** После компиляции сигналы в путях, ветвлениях, кольцах и таймерах могут отображаться не идеально точно. Для отладки схем рекомендуется временно отключать мод.
- **Изменения карты:** Мод не поддерживает изменение карты ( кроме нажатия кнопок ). Любое изменение карты потребует повторной компиляции.

## Замеры без рендеринга
- **Компьютер чубрика в игре Жизнь:** Скорость выросла с ~270 тпс до ~250к тпс.
- **Игра Жизнь:** Скорость выросла с ~190 тпс до ~14к тпс.

